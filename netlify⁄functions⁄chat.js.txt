exports.handler = async function(event, context) {
  // Ø§Ù„Ø³Ù…Ø§Ø­ Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ØµØ§Ø¯Ø±
  const headers = {
    'Access-Control-Allow-Origin': '*',
    'Access-Control-Allow-Headers': 'Content-Type',
    'Access-Control-Allow-Methods': 'GET, POST, OPTIONS'
  };

  if (event.httpMethod === 'OPTIONS') {
    return { statusCode: 200, headers, body: '' };
  }

  try {
    const { message } = JSON.parse(event.body || '{}');

    // sk-2c03139bbc9f46e6981d53b7f41e737e
    const response = `ğŸŒ¹ Ø´ÙƒØ±Ø§Ù‹ Ù„Ø±Ø³Ø§Ù„ØªÙƒ! Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø°ÙƒÙŠ Ø¬Ø§Ù‡Ø². Ø±Ø³Ø§Ù„ØªÙƒ: "${message}"`;

    return {
      statusCode: 200,
      headers,
      body: JSON.stringify({ success: true, response })
    };

  } catch (error) {
    return {
      statusCode: 200,
      headers,
      body: JSON.stringify({
        success: false,
        response: 'Ø¹Ø°Ø±Ø§Ù‹ØŒ Ø­Ø¯Ø« Ø®Ø·Ø£. Ù„Ù„Ø§Ø³ØªÙØ³Ø§Ø±Ø§Øª: ğŸ“ +201552987888'
      })
    };
  }
};
